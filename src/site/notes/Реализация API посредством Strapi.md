---
{"dg-publish":true,"permalink":"/realizacziya-api-posredstvom-strapi/"}
---

### Сценарий 1
#### Описание сценария
Первый сценарий подразумевает регистрацию нового пользователя, который решил опубликовать свой авторский комикс с обложкой.
![Снимок экрана 2024-10-01 в 16.14.00.png](/img/user/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202024-10-01%20%D0%B2%2016.14.00.png)
Создали пользователя 
![Снимок экрана 2024-10-01 в 16.36.36.png](/img/user/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202024-10-01%20%D0%B2%2016.36.36.png)
Методом POST запроса GET убедились, что пользователь зарегистрирован в системе
![Снимок экрана 2024-10-01 в 16.40.16.png](/img/user/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202024-10-01%20%D0%B2%2016.40.16.png)
Создали комикс  с описанием (которое может использоваться как и содержание комикса). Указали название, жанр, подгрузили обложку, указали автора и дату публикации. 
![Снимок экрана 2024-10-01 в 16.42.24.png](/img/user/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202024-10-01%20%D0%B2%2016.42.24.png)
Комикс опубликован
### Сценарий 2
#### Описание сценария
Регистрация нового пользователя, который решил прочитать имеющийся комикс (из первого сценария), оценить его, оставить комментарий. В связи с высокой оценкой - пользователь решил подписаться на коммикс - чтобы в дальнейшем можно было продолжить обсуждение по этому произведению с другими участниками. 
![Снимок экрана 2024-10-01 в 16.43.58.png](/img/user/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202024-10-01%20%D0%B2%2016.43.58.png)
Создаем пользователя комментатор
![Снимок экрана 2024-10-01 в 16.44.38.png](/img/user/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202024-10-01%20%D0%B2%2016.44.38.png)
Ставим рейтинг комиксу - высокую оценку
![Снимок экрана 2024-10-01 в 16.45.00.png](/img/user/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202024-10-01%20%D0%B2%2016.45.00.png)
Комментатор подписался на комикс, оставил рейтинг. 

Проблема - рейтинг не отразился в среднем рейтинге комикса - поле среднего рейтинга не реализовано. 
![Снимок экрана 2024-10-01 в 16.45.43.png](/img/user/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202024-10-01%20%D0%B2%2016.45.43.png)
Комментатор оставил комментарий 
![Снимок экрана 2024-10-01 в 16.46.01.png](/img/user/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202024-10-01%20%D0%B2%2016.46.01.png)

### Сценарий 3
#### Описание сценария
Регистрируется третий пользователь. Они создают общую группу по интересам. Пользователь "диванный критик" резко понимает, что мысли "комментатора" ему близки по душе, поэтому "диванный критик" решает подписаться на комментатора в надежде увидеть его авторский комикс или новый комментарий. 
![Снимок экрана 2024-10-01 в 17.32.58 1.png](/img/user/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202024-10-01%20%D0%B2%2017.32.58%201.png)
Создали пользователя
![Снимок экрана 2024-10-01 в 16.51.11.png](/img/user/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202024-10-01%20%D0%B2%2016.51.11.png)
Создали группу, выделили администратора с бОльшим количеством прав
![Pasted image 20241001173846.png](/img/user/Pasted%20image%2020241001173846.png)
Подписчики комментатора

## Заключение 
Мною было запущено 3 сценария. Протестировано 10 кейсов, 1 из которых оказался неудачным. Проблема, с которой я столкнулся - отсутствие реализованного среднего рейтинга . При выставлении оценки score - средний рейтинг по-прежнему равен нулю. В целом средний рейтинг возможно было реализовать, использовав верный lifecycles.js.